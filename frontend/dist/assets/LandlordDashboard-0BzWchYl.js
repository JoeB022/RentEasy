import{j as e}from"./ui-D3obchzt.js";import{r,u as Z}from"./router-DfRYby2R.js";import{c as k,V as E,L as Q,U as ee}from"./index-CWDAu_ji.js";import{A as te,C as I,W as se}from"./propertyTypes-D3ZutxNy.js";import{M as $,S as M,D as ae,T as B,C as F,X as q,L as U,a as le}from"./x-De0wpvYe.js";import{P as V,T as ne,S as O}from"./triangle-alert-DzgxFy4h.js";import"./vendor-DJG_os-6.js";/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],ie=k("bed-double",re);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ce=k("bell",oe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],xe=k("building-2",de);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],ue=k("building",me);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],G=k("circle-alert",pe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],ge=k("circle-plus",he);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],H=k("circle-user",be);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],fe=k("clock",ye);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ve=k("credit-card",je);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],we=k("navigation",Ne);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],ke=k("pen-line",Ce);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Pe=k("settings",Se),Le=({latitude:c,longitude:u,onLocationChange:t,locationName:o="",className:x=""})=>{const[h,m]=r.useState(!1),[n,i]=r.useState(""),[g,y]=r.useState(""),[s,d]=r.useState({lat:c,lng:u}),p=r.useRef(null);r.useEffect(()=>{if(s.lat&&s.lng){const f=`https://www.openstreetmap.org/export/embed.html?bbox=${s.lng-.01},${s.lat-.01},${s.lng+.01},${s.lat+.01}&layer=mapnik&marker=${s.lat},${s.lng}`;y(f),t&&t(s.lat,s.lng)}},[s,t]),r.useEffect(()=>{c&&u&&d({lat:c,lng:u})},[c,u]);const j=()=>{if(m(!0),i(""),!navigator.geolocation){i("Geolocation is not supported by your browser"),m(!1);return}navigator.geolocation.getCurrentPosition(f=>{const{latitude:l,longitude:b}=f.coords;d({lat:l,lng:b}),m(!1),w(l,b)},f=>{switch(m(!1),f.code){case f.PERMISSION_DENIED:i("Location access denied. Please enable location permissions or enter location manually.");break;case f.POSITION_UNAVAILABLE:i("Location information unavailable. Please try again or enter location manually.");break;case f.TIMEOUT:i("Location request timed out. Please try again or enter location manually.");break;default:i("An unknown error occurred. Please enter location manually.")}},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})},w=async(f,l)=>{try{const L=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${f}&lon=${l}&zoom=18&addressdetails=1`)).json();if(L.display_name){const A=L.display_name.split(", "),z=A[A.length-3]||A[A.length-2]||"Unknown Location";t&&t(f,l,z)}}catch(b){console.log("Reverse geocoding failed:",b)}},v=()=>{i("")};return e.jsxs("div",{className:`space-y-4 ${x}`,children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center",children:[e.jsxs("button",{type:"button",onClick:j,disabled:h,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:[h?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx(we,{className:"w-4 h-4"}),h?"Getting Location...":"Set Location"]}),s.lat&&s.lng&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx($,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.lat.toFixed(6),", ",s.lng.toFixed(6)]})]})]}),n&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(G,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-red-700",children:[e.jsx("p",{className:"font-medium",children:"Location Error"}),e.jsx("p",{children:n}),e.jsx("button",{onClick:v,className:"mt-2 text-red-600 hover:text-red-800 underline text-sm",children:"Enter location manually"})]})]}),s.lat&&s.lng&&e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200",children:e.jsxs("h3",{className:"text-sm font-medium text-gray-700",children:["Property Location",o&&e.jsxs("span",{className:"ml-2 text-gray-500",children:["• ",o]})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("iframe",{ref:p,src:g,title:"Property Location Map",className:"w-full h-64 border-0",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:e.jsx("div",{className:"w-6 h-6 bg-primary-600 rounded-full border-2 border-white shadow-lg flex items-center justify-center",children:e.jsx($,{className:"w-4 h-4 text-white"})})})})]})]}),e.jsx("input",{type:"hidden",name:"latitude",value:s.lat||""}),e.jsx("input",{type:"hidden",name:"longitude",value:s.lng||""})]})},Ae=()=>{const[c,u]=r.useState([]),[t,o]=r.useState({id:null,name:"",location:"",latitude:"",longitude:"",price:"",bedrooms:"",units:"",category:"",features:"",available:!0,images:[]}),[x,h]=r.useState(null),[m,n]=r.useState(null),[i,g]=r.useState(""),[y,s]=r.useState("all"),[d,p]=r.useState([]),[j,w]=r.useState(!1),[v,f]=r.useState(0),[l,b]=r.useState(null),[L,A]=r.useState(null),z=a=>{const C=Array.from(a.target.files).map(N=>new Promise(D=>{const P=new FileReader;P.onloadend=()=>D(P.result),P.readAsDataURL(N)}));Promise.all(C).then(N=>o(D=>({...D,images:N})))},W=(a,S,C="")=>{o(N=>({...N,latitude:a,longitude:S,location:C||N.location}))},K=a=>{a.preventDefault();const{name:S,location:C,price:N,bedrooms:D}=t;if(!S||!C||!N||!D)return E.error("Please fill all required fields.");if(x)u(P=>P.map(T=>T.id===x?{...t,id:x}:T)),E.success("Property updated");else{u([...c,{...t,id:Date.now()}]);const P=t.latitude&&t.longitude?` with coordinates (${t.latitude.toFixed(6)}, ${t.longitude.toFixed(6)})`:"";E.success(`Property added${P}`)}J()},X=a=>{o(a),h(a.id)},J=()=>{o({id:null,name:"",location:"",latitude:"",longitude:"",price:"",bedrooms:"",units:"",category:"",features:"",available:!0,images:[]}),h(null)},_=c.filter(a=>{const S=a.name.toLowerCase().includes(i.toLowerCase())||a.location.toLowerCase().includes(i.toLowerCase()),C=y==="all"?!0:y==="available"?a.available:!a.available;return S&&C}),Y=(a,S=0)=>{p(a),f(S),w(!0)};return e.jsxs("div",{className:"max-w-6xl mx-auto pt-16 px-4",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-[#003B4C]",children:"Manage Property Listings"}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 items-center",children:[e.jsxs("div",{className:"relative max-w-sm flex-1",children:[e.jsx("input",{type:"text",placeholder:"Search by name or location...",value:i,onChange:a=>g(a.target.value),className:"w-full border px-4 py-2 rounded pl-10"}),e.jsx(M,{className:"absolute top-2.5 left-3 text-gray-400",size:16})]}),e.jsx("div",{className:"flex gap-2",children:["all","available","unavailable"].map(a=>e.jsx("button",{onClick:()=>s(a),className:`px-3 py-1 rounded-full text-sm border ${y===a?"bg-[#003B4C] text-white border-[#003B4C]":"text-gray-600 border-gray-300 hover:bg-gray-100"}`,children:a==="all"?"All":a==="available"?"Available":"Unavailable"},a))})]}),e.jsxs("form",{onSubmit:K,className:"bg-white p-4 rounded shadow mb-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx("input",{type:"text",placeholder:"Property Name",value:t.name,onChange:a=>o({...t,name:a.target.value}),className:"border rounded px-3 py-2"}),e.jsx("input",{type:"text",placeholder:"Location",value:t.location,onChange:a=>o({...t,location:a.target.value}),className:"border rounded px-3 py-2"}),e.jsx("div",{className:"col-span-2",children:e.jsx(Le,{latitude:t.latitude,longitude:t.longitude,onLocationChange:W,locationName:t.location})}),e.jsx("input",{type:"number",placeholder:"Price (Ksh/month)",value:t.price,onChange:a=>o({...t,price:a.target.value}),className:"border rounded px-3 py-2"}),e.jsx("input",{type:"number",placeholder:"Number of Bedrooms",value:t.bedrooms,onChange:a=>o({...t,bedrooms:a.target.value}),className:"border rounded px-3 py-2"}),e.jsx("input",{type:"number",placeholder:"Number of Units",value:t.units,onChange:a=>o({...t,units:a.target.value}),className:"border rounded px-3 py-2"}),e.jsxs("select",{value:t.category,onChange:a=>o({...t,category:a.target.value}),className:"border rounded px-3 py-2",children:[e.jsx("option",{value:"",children:"Select Category"}),te.map(a=>e.jsx("option",{value:a,children:a},a))]}),e.jsx("input",{type:"text",placeholder:"Features (comma separated)",value:t.features,onChange:a=>o({...t,features:a.target.value}),className:"border rounded px-3 py-2"}),e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:z,className:"col-span-2"}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"checkbox",checked:t.available,onChange:a=>o({...t,available:a.target.checked})}),"Available for Rent"]})]}),e.jsx("button",{type:"submit",className:"bg-[#003B4C] text-white px-4 py-2 rounded hover:bg-blue-700 transition",children:x?"Update Property":"Add Property"})]}),_.length>0?e.jsx("div",{className:"space-y-6",children:_.map(a=>{const S=a.features?a.features.split(",").map(C=>C.trim()):[];return e.jsxs("div",{className:"bg-white shadow border rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-[#E6F8FA] px-4 py-2 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2 text-[#003B4C] font-bold",children:[e.jsx($,{className:"text-[#007C99] animate-pulse",size:18}),a.name," – ",a.location]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1 text-gray-700",children:[e.jsx(ae,{size:16})," Ksh ",parseInt(a.price).toLocaleString(),"/month"]}),e.jsx("button",{onClick:()=>X(a),title:"Edit",children:e.jsx(V,{size:16,className:"text-blue-600 hover:text-blue-800"})}),e.jsx("button",{onClick:()=>n(a.id),title:"Delete",children:e.jsx(B,{size:16,className:"text-red-600 hover:text-red-800"})})]})]}),e.jsxs("div",{className:"px-4 py-3 space-y-2",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.category&&e.jsx("span",{className:"inline-block bg-blue-100 text-blue-700 text-xs font-semibold px-3 py-1 rounded-full",children:a.category}),a.latitude&&a.longitude&&e.jsx("span",{className:"inline-block bg-green-100 text-green-700 text-xs font-semibold px-3 py-1 rounded-full",children:"📍 Located"})]}),a.images.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:a.images.map((C,N)=>e.jsx("img",{src:C,alt:`property-${N}`,onClick:()=>Y(a.images,N),className:"w-16 h-16 object-cover rounded cursor-zoom-in hover:scale-105 transition duration-200"},N))}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Features:"}),e.jsx("ul",{className:"flex flex-wrap gap-2 text-sm text-gray-700",children:S.length>0?S.map((C,N)=>e.jsx("li",{className:"px-3 py-1 bg-gray-100 border border-gray-300 rounded-full",children:C},N)):e.jsx("li",{children:"No features listed"})})]}),e.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-4 flex-wrap",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ie,{size:16,className:"text-[#007C99]"})," ",a.bedrooms," bedroom(s)"]}),a.units&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(xe,{size:16,className:"text-gray-700"})," ",a.units," unit(s)"]}),"|"," ",e.jsx("span",{className:`font-semibold ${a.available?"text-green-600":"text-red-600"}`,children:a.available?"Available":"Unavailable"})]})]})]},a.id)})}):e.jsx("p",{className:"text-sm text-gray-500 text-center mt-8",children:"No properties found."})]})},R=[{property:"Green View Apartments",location:"Kilimani",rooms:[{room:"A1",tenant:"Joe Brian",rentHistory:{"2025-06":"Paid","2025-07":"Pending"}},{room:"A2",tenant:"Renice Owino",rentHistory:{"2025-06":"Pending","2025-07":"Pending"}}]},{property:"Sunrise Villas",location:"Westlands",rooms:[{room:"B1",tenant:"Pope Mutembei",rentHistory:{"2025-06":"Paid","2025-07":"Paid"}},{room:"B2",tenant:"Vivian Oyondi",rentHistory:{"2025-06":"Pending","2025-07":"Paid"}}]}],De=()=>{const c=new Date;return`${c.getFullYear()}-${String(c.getMonth()+1).padStart(2,"0")}`},Me=()=>{const[c,u]=r.useState(""),[t,o]=r.useState("All"),[x,h]=r.useState(De()),m=R.filter(n=>t==="All"?!0:n.property===t).map(n=>({...n,rooms:n.rooms.filter(i=>{const g=c.toLowerCase();return i.tenant.toLowerCase().includes(g)||i.room.toLowerCase().includes(g)||(i.rentHistory[x]||"Pending").toLowerCase().includes(g)})})).filter(n=>n.rooms.length>0);return e.jsxs("div",{className:"max-w-6xl mx-auto pt-16 px-4",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-[#003B4C]",children:"Tenants by House/Room"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"relative w-full md:w-1/3",children:[e.jsx(M,{className:"absolute top-2.5 left-2.5 text-gray-500",size:18}),e.jsx("input",{type:"text",placeholder:"Search by name, room, or status...",className:"pl-8 pr-4 py-2 border rounded w-full",value:c,onChange:n=>u(n.target.value)})]}),e.jsxs("select",{className:"border px-3 py-2 rounded w-full md:w-1/3",value:t,onChange:n=>o(n.target.value),children:[e.jsx("option",{value:"All",children:"All Properties"}),R.map((n,i)=>e.jsx("option",{value:n.property,children:n.property},i))]}),e.jsxs("div",{className:"relative w-full md:w-1/3",children:[e.jsx(I,{className:"absolute top-2.5 left-2.5 text-gray-500",size:18}),e.jsx("input",{type:"month",value:x,onChange:n=>h(n.target.value),className:"pl-8 pr-4 py-2 border rounded w-full"})]})]}),m.map((n,i)=>e.jsxs("div",{className:"bg-white shadow rounded-lg mb-6 p-4 border",children:[e.jsxs("h3",{className:"text-lg font-semibold text-[#007C99] mb-3",children:[n.property," – ",n.location]}),e.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-4",children:n.rooms.map((g,y)=>{const d=(g.rentHistory[x]||"Pending")==="Paid";return e.jsxs("div",{className:`p-4 border rounded text-sm flex flex-col justify-between ${d?"bg-green-50 border-green-300 text-green-700":"bg-yellow-50 border-yellow-300 text-yellow-700"}`,children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Room:"})," ",g.room]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Tenant:"})," ",g.tenant]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("strong",{children:"Status:"}),d?e.jsxs("span",{className:"flex items-center gap-1 text-green-700",children:[e.jsx(F,{size:16})," Paid"]}):e.jsxs("span",{className:"flex items-center gap-1 text-yellow-700",children:[e.jsx(G,{size:16})," Pending"]})]})]},y)})})]},i)),m.length===0&&e.jsx("div",{className:"text-center text-gray-500 mt-10",children:"No tenants match your filters."})]})},ze=[{property:"Green View Apartments",location:"Kilimani",rooms:[{room:"A1",tenant:"Joe Brian",dueDate:"2025-06-05",status:"Paid"},{room:"A2",tenant:"Renice Owino",dueDate:"2025-06-10",status:"Pending"}]},{property:"Sunrise Villas",location:"Westlands",rooms:[{room:"B1",tenant:"Pope Mutembei",dueDate:"2025-06-01",status:"Paid"},{room:"B2",tenant:"Vivian Oyondi",dueDate:"2025-06-02",status:"Pending"}]}],Ee=()=>{const[c,u]=r.useState(ze),[t,o]=r.useState(""),[x,h]=r.useState(()=>{const s=new Date;return`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}`});r.useEffect(()=>{const s=new Date,d=c.map(p=>({...p,rooms:p.rooms.map(j=>{const w=new Date(j.dueDate);let v=j.status;return v!=="Paid"&&(w<s?v="Due":v="Pending"),{...j,status:v}})}));u(d)},[]);const m=()=>{const s=new Date,d=new Date;d.setDate(s.getDate()+3);const p=[],j=[];return c.forEach(w=>{w.rooms.forEach(v=>{const f=new Date(v.dueDate);v.status!=="Paid"&&(f<s?p.push({...v,property:w.property}):f<=d&&j.push({...v,property:w.property}))})}),{overdue:p,upcoming:j}},{overdue:n,upcoming:i}=m(),g=c.map(s=>({...s,rooms:s.rooms.filter(d=>{const p=d.dueDate.startsWith(x),j=t.toLowerCase(),w=d.tenant.toLowerCase().includes(j)||d.room.toLowerCase().includes(j)||d.status.toLowerCase().includes(j);return p&&w})})).filter(s=>s.rooms.length>0),y=s=>{switch(s){case"Paid":return e.jsxs("span",{className:"flex items-center gap-1 text-green-700 font-medium bg-green-100 px-2 py-0.5 rounded-full text-xs",children:[e.jsx(F,{size:14})," Paid"]});case"Pending":return e.jsxs("span",{className:"flex items-center gap-1 text-yellow-700 font-medium bg-yellow-100 px-2 py-0.5 rounded-full text-xs",children:[e.jsx(fe,{size:14})," Pending"]});case"Due":default:return e.jsxs("span",{className:"flex items-center gap-1 text-red-700 font-medium bg-red-100 px-2 py-0.5 rounded-full text-xs",children:[e.jsx(ne,{size:14})," Due"]})}};return e.jsxs("div",{className:"max-w-6xl mx-auto pt-16 px-4",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-[#003B4C]",children:"Real-Time Rent Payments"}),(n.length>0||i.length>0)&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-300 text-yellow-800 p-4 rounded-md mb-6",children:[n.length>0&&e.jsxs("div",{className:"mb-2",children:[e.jsxs("strong",{className:"text-red-700",children:["❗ Overdue (",n.length,"):"]})," ",n.map(s=>`${s.tenant} (${s.property} - ${s.room})`).join(", ")]}),i.length>0&&e.jsxs("div",{children:[e.jsxs("strong",{className:"text-blue-700",children:["⏳ Due Soon (",i.length,"):"]})," ",i.map(s=>`${s.tenant} (${s.property} - ${s.room})`).join(", ")]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"relative w-full md:w-1/2",children:[e.jsx(M,{className:"absolute top-2.5 left-2.5 text-gray-500",size:18}),e.jsx("input",{type:"text",placeholder:"Search by tenant, room, status...",className:"pl-8 pr-4 py-2 border rounded w-full",value:t,onChange:s=>o(s.target.value)})]}),e.jsxs("div",{className:"relative w-full md:w-1/2",children:[e.jsx(I,{className:"absolute top-2.5 left-2.5 text-gray-500",size:18}),e.jsx("input",{type:"month",className:"pl-8 pr-4 py-2 border rounded w-full",value:x,onChange:s=>h(s.target.value)})]})]}),g.map((s,d)=>e.jsxs("div",{className:"bg-white shadow rounded-lg mb-6 p-4 border",children:[e.jsxs("h3",{className:"text-lg font-semibold text-[#007C99] mb-3",children:[s.property," – ",s.location]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm border",children:[e.jsx("thead",{className:"bg-gray-100 text-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left",children:"Room"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Tenant"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Due Date"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Status"})]})}),e.jsx("tbody",{children:s.rooms.map((p,j)=>e.jsxs("tr",{className:"border-t hover:bg-gray-50 transition",children:[e.jsx("td",{className:"px-4 py-2",children:p.room}),e.jsx("td",{className:"px-4 py-2",children:p.tenant}),e.jsx("td",{className:"px-4 py-2",children:p.dueDate}),e.jsx("td",{className:"px-4 py-2",children:y(p.status)})]},j))})]})})]},d)),g.length===0&&e.jsx("div",{className:"text-center text-gray-500 mt-10",children:"No rent records match your filters."})]})},$e=[{id:1,property:"Green View Apartments",service:"Weekly Cleaning",cost:1e3,available:!0},{id:2,property:"Sunrise Villas",service:"Garbage Collection",cost:500,available:!1}],Be=()=>{const[c,u]=r.useState($e),[t,o]=r.useState({property:"",service:"",cost:"",available:!0}),[x,h]=r.useState(null),[m,n]=r.useState({}),[i,g]=r.useState(""),[y,s]=r.useState([]),d=()=>{!t.property||!t.service||!t.cost||(u([...c,{...t,id:Date.now()}]),o({property:"",service:"",cost:"",available:!0}))},p=l=>{u(c.filter(b=>b.id!==l))},j=l=>{const b=c.find(L=>L.id===l);h(l),n({...b})},w=()=>{u(c.map(l=>l.id===x?m:l)),h(null),n({})},v=l=>{s([...y,{...l,requestedAt:new Date}])},f=c.filter(l=>l.property.toLowerCase().includes(i.toLowerCase()));return e.jsxs("div",{className:"max-w-6xl mx-auto pt-16 px-4",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-[#003B4C]",children:"Apartment Service Add-ons"}),e.jsxs("div",{className:"relative mb-6 w-full md:w-1/2",children:[e.jsx(M,{className:"absolute top-2.5 left-2.5 text-gray-500",size:18}),e.jsx("input",{type:"text",placeholder:"Filter by property name...",className:"pl-8 pr-4 py-2 border rounded w-full",value:i,onChange:l=>g(l.target.value)})]}),e.jsxs("div",{className:"grid sm:grid-cols-4 gap-4 mb-6",children:[e.jsx("input",{type:"text",placeholder:"Property name",className:"border rounded px-3 py-2",value:t.property,onChange:l=>o({...t,property:l.target.value})}),e.jsx("input",{type:"text",placeholder:"Service name",className:"border rounded px-3 py-2",value:t.service,onChange:l=>o({...t,service:l.target.value})}),e.jsx("input",{type:"number",placeholder:"Cost (KES)",className:"border rounded px-3 py-2",value:t.cost,onChange:l=>o({...t,cost:l.target.value})}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:t.available,onChange:l=>o({...t,available:l.target.checked})}),"Available"]}),e.jsxs("button",{onClick:d,className:"col-span-4 sm:col-span-1 flex items-center justify-center gap-2 bg-[#003B4C] text-white px-4 py-2 rounded hover:bg-[#005566]",children:[e.jsx(ge,{size:18})," Add Service"]})]}),e.jsx("div",{className:"space-y-4",children:f.map(l=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between border p-4 rounded bg-white shadow-sm",children:[x===l.id?e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[e.jsx("input",{className:"border rounded px-2 py-1 w-full sm:w-1/4",value:m.property,onChange:b=>n({...m,property:b.target.value})}),e.jsx("input",{className:"border rounded px-2 py-1 w-full sm:w-1/4",value:m.service,onChange:b=>n({...m,service:b.target.value})}),e.jsx("input",{className:"border rounded px-2 py-1 w-full sm:w-1/4",type:"number",value:m.cost,onChange:b=>n({...m,cost:b.target.value})}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:m.available,onChange:b=>n({...m,available:b.target.checked})}),"Available"]})]}):e.jsxs("div",{className:"flex-1 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-[#003B4C]",children:l.property}),e.jsx("p",{children:l.service})]}),e.jsxs("div",{className:"text-sm text-gray-700",children:["KES ",l.cost]}),e.jsx("div",{children:e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${l.available?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:l.available?"Available":"Not Available"})})]}),e.jsx("div",{className:"flex gap-2 mt-2 sm:mt-0",children:x===l.id?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:w,className:"bg-green-600 hover:bg-green-700 text-white px-2 py-1 rounded flex items-center gap-1 text-sm",children:[e.jsx(O,{size:14})," Save"]}),e.jsxs("button",{onClick:()=>h(null),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-2 py-1 rounded flex items-center gap-1 text-sm",children:[e.jsx(q,{size:14})," Cancel"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>j(l.id),className:"text-blue-600 hover:text-blue-800 flex items-center gap-1 text-sm",children:[e.jsx(V,{size:16})," Edit"]}),e.jsxs("button",{onClick:()=>p(l.id),className:"text-red-600 hover:text-red-800 flex items-center gap-1 text-sm",children:[e.jsx(B,{size:16})," Delete"]}),l.available&&e.jsx("button",{onClick:()=>v(l),className:"text-[#007C99] hover:underline text-sm",children:"Request"})]})})]},l.id))}),y.length>0&&e.jsxs("div",{className:"mt-10",children:[e.jsx("h3",{className:"text-lg font-semibold text-[#003B4C] mb-2",children:"Tenant Requests"}),e.jsx("ul",{className:"text-sm space-y-1",children:y.map((l,b)=>e.jsxs("li",{className:"border p-2 rounded bg-gray-50",children:[l.service," at ",e.jsx("strong",{children:l.property})," — Requested on"," ",new Date(l.requestedAt).toLocaleString()]},b))})]})]})},_e={name:"Joe Brian",email:"joe.brian@example.com",phone:"+254712345678",location:"Nairobi, Kenya"},Te=()=>{const[c,u]=r.useState(_e),[t,o]=r.useState(!1),[x,h]=r.useState("profile"),[m,n]=r.useState(!0),i=y=>{u({...c,[y.target.name]:y.target.value})},g=()=>o(!t);return e.jsxs("div",{className:"max-w-4xl mx-auto pt-16 px-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#003B4C] mb-6",children:"Landlord Profile"}),e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsxs("button",{className:`flex items-center gap-2 px-4 py-2 rounded ${x==="profile"?"bg-[#003B4C] text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>h("profile"),children:[e.jsx(H,{size:18})," Profile Info"]}),e.jsxs("button",{className:`flex items-center gap-2 px-4 py-2 rounded ${x==="settings"?"bg-[#003B4C] text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>h("settings"),children:[e.jsx(Pe,{size:18})," Settings"]})]}),x==="profile"&&e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("img",{src:"https://api.dicebear.com/8.x/initials/svg?seed=Joe%20Brian",alt:"Profile",className:"w-20 h-20 rounded-full border border-gray-300"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-lg",children:c.name}),e.jsx("p",{className:"text-sm text-gray-600",children:"Landlord"})]})]}),x==="profile"&&e.jsxs("form",{className:"bg-blue-50 shadow p-6 rounded-lg space-y-4 border",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),e.jsx("input",{type:"text",name:"name",value:c.name,onChange:i,disabled:!t,className:`mt-1 block w-full border px-3 py-2 rounded ${t?"border-gray-300":"bg-gray-100 cursor-not-allowed"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:c.email,onChange:i,disabled:!t,className:`mt-1 block w-full border px-3 py-2 rounded ${t?"border-gray-300":"bg-gray-100 cursor-not-allowed"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),e.jsx("input",{type:"text",name:"phone",value:c.phone,onChange:i,disabled:!t,className:`mt-1 block w-full border px-3 py-2 rounded ${t?"border-gray-300":"bg-gray-100 cursor-not-allowed"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),e.jsx("input",{type:"text",name:"location",value:c.location,onChange:i,disabled:!t,className:`mt-1 block w-full border px-3 py-2 rounded ${t?"border-gray-300":"bg-gray-100 cursor-not-allowed"}`})]}),e.jsxs("button",{type:"button",onClick:g,className:`mt-4 inline-flex items-center px-4 py-2 text-sm font-medium rounded ${t?"bg-green-600 text-white":"bg-[#003B4C] text-white"}`,children:[t?e.jsx(O,{size:16,className:"mr-2"}):e.jsx(ke,{size:16,className:"mr-2"}),t?"Save":"Edit Profile"]})]}),x==="settings"&&e.jsxs("div",{className:"bg-white shadow p-6 rounded-lg border space-y-6 text-sm text-gray-800",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-2 flex items-center gap-2 text-[#007C99]",children:[e.jsx(Q,{size:18})," Change Password"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"password",placeholder:"Current password",className:"w-full border px-3 py-2 rounded"}),e.jsx("input",{type:"password",placeholder:"New password",className:"w-full border px-3 py-2 rounded"}),e.jsx("input",{type:"password",placeholder:"Confirm new password",className:"w-full border px-3 py-2 rounded"}),e.jsx("button",{className:"mt-2 bg-[#003B4C] text-white px-4 py-2 rounded text-sm",children:"Update Password"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-2 flex items-center gap-2 text-[#007C99]",children:[e.jsx(ce,{size:18})," Notifications"]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:m,onChange:()=>n(!m)}),"Enable rent and service alerts"]})]}),e.jsxs("div",{className:"flex justify-between mt-6",children:[e.jsxs("button",{className:"flex items-center gap-2 text-red-600 hover:underline",children:[e.jsx(B,{size:16})," Delete Account"]}),e.jsxs("button",{className:"flex items-center gap-2 text-[#003B4C] hover:underline",children:[e.jsx(U,{size:16})," Logout"]})]})]})]})},Ge=()=>{const c=Z(),[u,t]=r.useState("properties"),[o,x]=r.useState(!1),h=[{label:"Properties",value:"properties",icon:ue},{label:"Tenants",value:"tenants",icon:ee},{label:"Payments",value:"payments",icon:ve},{label:"Services",value:"services",icon:se},{label:"Profile",value:"profile",icon:H}],m=()=>x(!o),n=()=>x(!1),i=s=>{t(s),window.innerWidth<768&&n()};r.useEffect(()=>{const s=d=>{d.key==="Escape"&&o&&n()};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[o]);const g=()=>{localStorage.clear(),c("/login",{replace:!0})},y=()=>{switch(u){case"properties":return e.jsx(Ae,{});case"tenants":return e.jsx(Me,{});case"payments":return e.jsx(Ee,{});case"services":return e.jsx(Be,{});case"profile":return e.jsx(Te,{});default:return null}};return e.jsxs("div",{className:"min-h-screen flex bg-gray-100",children:[o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:n}),e.jsxs("aside",{className:`
        fixed top-0 left-0 h-full w-64 bg-[#003B4C] text-white z-50 transform transition-transform duration-300 ease-in-out
        ${o?"translate-x-0":"-translate-x-full"}
        md:hidden
      `,children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[#005A6E]",children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Menu"}),e.jsx("button",{onClick:n,className:"p-2 hover:bg-[#005A6E] rounded-md transition-colors",children:e.jsx(q,{size:20,className:"text-white"})})]}),e.jsx("div",{className:"px-4 py-6 space-y-3",children:h.map(({label:s,value:d,icon:p})=>e.jsx("button",{onClick:()=>i(d),className:`flex items-center justify-between gap-2 px-3 py-2 rounded-md text-sm transition font-medium w-full ${u===d?"bg-white text-[#003B4C]":"text-white hover:bg-[#005A6E]"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{size:18}),s]})},d))})]}),e.jsx("aside",{className:"hidden md:flex flex-col w-64 bg-[#003B4C] text-white fixed h-full z-30 shadow-lg",children:e.jsxs("div",{className:"px-4 py-6 space-y-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Landlord Dashboard"}),h.map(({label:s,value:d,icon:p})=>e.jsx("button",{onClick:()=>i(d),className:`flex items-center justify-between gap-2 px-3 py-2 rounded-md text-sm transition font-medium ${u===d?"bg-white text-[#003B4C]":"text-white hover:bg-[#005A6E]"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{size:18}),s]})},d))]})}),e.jsxs("div",{className:"flex-1 md:ml-64",children:[e.jsxs("header",{className:"bg-[#003B4C] text-white px-6 py-4 shadow flex justify-between items-center",children:[e.jsx("button",{onClick:m,className:"md:hidden p-2 hover:bg-[#005A6E] rounded-md transition-colors",children:e.jsx(le,{size:20,className:"text-white"})}),e.jsx("h1",{className:"text-xl font-bold",children:"Landlord Dashboard"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-sm opacity-90",children:"Welcome, Landlord"}),e.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-white hover:bg-[#005A6E] rounded-md transition-colors duration-200",children:[e.jsx(U,{size:16}),"Logout"]})]})]}),e.jsx("main",{className:"overflow-y-auto p-6 bg-gray-50 min-h-[calc(100vh-80px)]",children:e.jsxs("div",{className:"bg-white rounded-xl shadow p-6 border border-gray-200",children:[e.jsx("h2",{className:"text-xl font-bold text-[#003B4C] mb-2 capitalize",children:u}),y()]})})]})]})};export{Ge as default};
